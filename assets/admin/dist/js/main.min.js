!function(e){var o=e.element.createElement;e.i18n.__;e.blocks.registerBlockType("direct-stripe/stripe-button-block",{title:"Direct Stripe button",category:"common",logo:"../img/stipe-logo-black.svg",supportHTML:!1,attributes:{type:{selector:"p",attribute:"type"}},edit:function(e){console.log(e);var t=e.attributes,i=e.setAttributes,r=e.className,a=(e.focus,"#block-"+e.id);t.hasOwnProperty("type")||(t.type="Payment");var s={};Object.keys(t).forEach(function(e){s[e]=t[e]});new Vue({el:a,data:function(){return s},watch:{type:function(e){i({type:e})}},template:'<div class="editor-block-list__block"><p>Type: {{type}}</p><input v-model="type" /></div>'});return o("div",{className:r},[o("p",{className:r,type:t.type},o("div",{id:a}))])},save:function(e,t){o("p",{className:t,type:e.type})}})}(window.wp),jQuery("body").on("mousedown",".direct-stripe-notice .notice-dismiss",function(){jQuery.post(ajaxurl,{action:"dismissed_notice_handler"})}),jQuery,jQuery(".direct-stripe-color-field").wpColorPicker(),function(e){var i,r,a;i=".ds-media-input",a=!(r=".ds-media-button"),jQuery(i).each(function(e,t){jQuery(t).next(r).click(function(e){if(e.preventDefault(),a=jQuery(this),wp.media.frames.ds_frame)wp.media.frames.ds_frame.open();else{wp.media.frames.ds_frame=wp.media({title:direct_stripe_image_script_vars.title,multiple:!1,library:{type:"image"},button:{text:direct_stripe_image_script_vars.message}});var t=function(){var e=wp.media.frames.ds_frame.state().get("selection");e&&e.each(function(e){var t=e.attributes.url;a.prev(i).val(t)})};wp.media.frames.ds_frame.on("close",t),wp.media.frames.ds_frame.on("select",t),wp.media.frames.ds_frame.open()}})})}(jQuery);