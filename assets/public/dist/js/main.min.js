function stripe_checkout(o){return StripeCheckout.configure({key:o.key,token:function(e,n){var i=o,t=i.type,a="#ds-answer-"+i.instance,r="#loadingDS-"+i.instance;if("donation"===t)var s=setDonationValue(i.instance);else s=i.amount;jQuery(r).show(),jQuery.post(o.ajaxurl,{action:"ds_process_button",stripeToken:e.id,stripeEmail:e.email,type:t,amount:s,params:i,ds_nonce:i.ds_nonce,billing_name:n.billing_name,billing_address_country:n.billing_address_country,billing_address_zip:n.billing_address_zip,billing_address_state:n.billing_address_state,billing_address_line1:n.billing_address_line1,billing_address_city:n.billing_address_city,billing_address_country_code:n.billing_address_country_code,shipping_name:n.shipping_name,shipping_address_country:n.shipping_address_country,shipping_address_zip:n.shipping_address_zip,shipping_address_state:n.shipping_address_state,shipping_address_line1:n.shipping_address_line1,shipping_address_city:n.shipping_address_city,shipping_address_country_code:n.shipping_address_country_code},function(e){switch(e.id){case"1":jQuery(r).hide(),jQuery(a).addClass("success"),jQuery(a).html(e.message),jQuery(a).show(),setTimeout(function(){jQuery(a).hide()},1e4);break;case"2":jQuery(r).hide(),window.location.assign(e.url);break;default:jQuery(r).hide(),jQuery(a).addClass("error"),jQuery(a).html(e.message),jQuery(a).show(),setTimeout(function(){jQuery(a).hide()},1e4)}})}})}function setDonationValue(e){var n=window[e];return n.original_amount=jQuery("#donationvalue-"+e).val(),n.original_amount}function checkTC(e,n){return jQuery(e).hasClass("ds-check-tc")&&!jQuery("#ds-conditions-"+n).is(":checked")}function checkDonationInput(e,n,i){return jQuery(e).hasClass("ds-check-donation")&&!n.original_amount&&!n.original_amount.match(i)}function returnError(e,n,i){"emptyTc"===i?text=n.text.checkTC:"emptyDonation"===i&&(text=n.text.enterAmount),jQuery(e).html(text+"<br/>"),jQuery(e).addClass("error"),jQuery(e).show(),setTimeout(function(){jQuery(e).hide()},1e4)}!function(){var n=document.getElementById("ds-Modal"),e=document.getElementById("ds-Btn"),i=document.getElementsByClassName("ds-close")[0];e.onclick=function(){n.style.display="block"},i.onclick=function(){n.style.display="none"},window.onclick=function(e){e.target==n&&(n.style.display="none")}}(),jQuery(".direct-stripe-button-id").on("click",function(e){var n=jQuery(this).data("id");0<jQuery(".donationvalue").length&&setDonationValue(n);var i=window[n];if(""!==i.currency)var t=i.currency;else t=i.general_currency;var a="1"===i.billing||"true"===i.billing,r="1"===i.shipping||"true"===i.shipping,s="1"===i.rememberme||"true"===i.rememberme,o="#ds-answer-"+n;if(""!==i.display_amount&&"subscription"!==i.type&&"donation"!==i.type)var l=parseInt(i.original_amount);else if(""!==i.display_amount&&"donation"===i.type)if("1"===i.zero_decimal||"true"===i.zero_decimal)l=parseInt(i.original_amount);else l=parseFloat(100*i.original_amount);else l=0;var c=checkTC(this,n),d=checkDonationInput(this,i,/^\+?[0-9]*\.?[0-9]+$/);return c?(returnError(o,direct_stripe_script_vars,"emptyTc"),!1):d?(returnError(o,direct_stripe_script_vars,"emptyDonation"),!1):(handler=stripe_checkout(i),!1!==a?handler.open({key:i.key,locale:i.locale,image:i.image,name:i.name,description:i.description,email:i.current_email_address,currency:t,panelLabel:i.panellabel,amount:l,billingAddress:a,shippingAddress:r,allowRememberMe:s}):handler.open({key:i.key,locale:i.locale,image:i.image,name:i.name,description:i.description,email:i.current_email_address,currency:t,panelLabel:i.panellabel,amount:l,allowRememberMe:s}),void e.preventDefault())}),window.addEventListener("popstate",function(){handler.close()}),function(){"use strict";var e=stripe.elements({locale:window.__exampleLocale}),n=e.create("card",{iconStyle:"solid",style:{base:{iconColor:"#fff",color:"#fff",fontWeight:400,fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:"16px",fontSmoothing:"antialiased","::placeholder":{color:"#BFAEF6"},":-webkit-autofill":{color:"#fce883"}},invalid:{iconColor:"#FFC7EE",color:"#FFC7EE"}}});n.mount("#example5-card");var i=stripe.paymentRequest({country:"US",currency:"usd",total:{amount:2500,label:"Total"},requestShipping:!0,shippingOptions:[{id:"free-shipping",label:"Free shipping",detail:"Arrives in 5 to 7 days",amount:0}]});i.on("token",function(e){var n=document.querySelector(".example5");n.querySelector(".token").innerText=e.token.id,n.classList.add("submitted"),e.complete("success")});var t=e.create("paymentRequestButton",{paymentRequest:i,style:{paymentRequestButton:{theme:"light"}}});i.canMakePayment().then(function(e){e&&(document.querySelector(".example5 .card-only").style.display="none",document.querySelector(".example5 .payment-request-available").style.display="block",t.mount("#example5-paymentRequest"))}),registerElements([n],"example5")}();